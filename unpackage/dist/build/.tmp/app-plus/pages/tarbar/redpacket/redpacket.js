(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tarbar/redpacket/redpacket"],{3591:function(t,e,a){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(){return a.e("components/dao-time/dao-time").then(a.bind(null,"9046"))},n={data:function(){return{showTask:!0,showDao:!1,USERTOKEN:this.$store.state.userInfo.token,userId:this.$store.state.userInfo.userId,daoTime:"",showRedBtn:!0,isOpen:"",activityId:"",isTaskEnable:"",activityTaskId:"",showTaskRedBtn:!0,currentTaskTotal:0}},methods:{getTask:function(){this.showTask=!0,this.showDao=!1},getDao:function(){this.showDao=!0,this.showTask=!1},timeEnd:function(){t("log","时间到了"," at pages\\tarbar\\redpacket\\redpacket.vue:63"),this.daoTime="",this.showRedBtn=!1},kaiTaskRedPacket:function(){if(1==this.isTaskEnable){var e=this;i.request({url:e.websiteUrl+"/api/activity/receive",method:"POST",data:{activityId:e.activityTaskId,userId:e.userId},header:{Authorization:e.USERTOKEN},success:function(t){},fail:function(e){t("log",e," at pages\\tarbar\\redpacket\\redpacket.vue:85")}})}else i.showToast({title:"红包已失效",mask:!0});t("log","点击了领红包"," at pages\\tarbar\\redpacket\\redpacket.vue:94")},getRedPacket:function(){if(this.isOpen>=0){var e=this;i.request({url:e.websiteUrl+"/api/activity/receive",method:"POST",data:{activityId:e.activityId,userId:e.userId},header:{Authorization:e.USERTOKEN},success:function(t){},fail:function(e){t("log",e," at pages\\tarbar\\redpacket\\redpacket.vue:114")}})}else i.showToast({title:"红包已领完",mask:!0})},initTask:function(){var e=this;i.request({url:e.websiteUrl+"/api/activity/missionRedEnvelope",method:"GET",header:{Authorization:e.USERTOKEN},success:function(t){t.data.list[0]&&1==t.data.list[0].isOpen&&(e.activityTaskId=t.data.list[0].activityId,e.isTaskEnable=t.data.list[0].enable,e.currentTaskTotal=t.data.list[0].numberOfOurrentTasks)},fail:function(e){t("log",e," at pages\\tarbar\\redpacket\\redpacket.vue:146")}})},initDao:function(){var e=this;i.request({url:e.websiteUrl+"/api/activity/timeRedEnvelope",method:"GET",header:{Authorization:e.USERTOKEN},success:function(t){t.data.list[0]&&1==t.data.list[0].isOpen&&(e.daoTime=t.data.list[0].startDate,e.activityId=t.data.list[0].activityId,e.isOpen=t.data.list[0].total-t.data.list[0].completedCount)},fail:function(e){t("log",e," at pages\\tarbar\\redpacket\\redpacket.vue:172")}})}},onLoad:function(){this.$store.state.isLogin?(this.initTask(),this.initDao()):i.showToast({title:"请先去登录",mask:!0})},components:{DT:s}};e.default=n}).call(this,a("0de9")["default"],a("6e42")["default"])},"3b6c":function(t,e,a){"use strict";a.r(e);var i=a("6df3"),s=a("8c7a");for(var n in s)"default"!==n&&function(t){a.d(e,t,function(){return s[t]})}(n);a("b82e");var o,r=a("f0c5"),c=Object(r["a"])(s["default"],i["b"],i["c"],!1,null,"1ac70e07",null,!1,i["a"],o);e["default"]=c.exports},6630:function(t,e,a){"use strict";(function(t){a("69e0"),a("921b");i(a("66fd"));var e=i(a("3b6c"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("6e42")["createPage"])},"6df3":function(t,e,a){"use strict";var i,s=function(){var t=this,e=t.$createElement;t._self._c},n=[];a.d(e,"b",function(){return s}),a.d(e,"c",function(){return n}),a.d(e,"a",function(){return i})},"8c7a":function(t,e,a){"use strict";a.r(e);var i=a("3591"),s=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e["default"]=s.a},b82e:function(t,e,a){"use strict";var i=a("fe64"),s=a.n(i);s.a},fe64:function(t,e,a){}},[["6630","common/runtime","common/vendor"]]]);