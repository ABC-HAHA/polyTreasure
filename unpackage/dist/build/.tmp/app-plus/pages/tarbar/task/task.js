(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tarbar/task/task"],{"1c77":function(t,e,a){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s,r=function(){return a.e("components/cmd-progress/cmd-progress").then(a.bind(null,"3402"))},i=function(){return a.e("pages/mine/uni-popup").then(a.bind(null,"8ab6"))},o=a("b637"),u=function(){return a.e("components/refresh").then(a.bind(null,"6028"))},c=function(){return a.e("components/navTab").then(a.bind(null,"d5ca"))},l=function(){return a.e("components/wlp-swiper-banner/wlp-swiper-banner").then(a.bind(null,"8246"))},p=function(){return a.e("components/faceContent/faceContent").then(a.bind(null,"65f0"))},f={data:function(){return{swiperImg:[],currentPage:"index",toView:"",tabTitle:["图文","视频","链接","广告🔱"],currentTab:0,pages:[1,1,1,1],list:[[],[],[],[]],listArr:[],start:0,page:10,progress:0,type:""}},methods:{toTop:function(){var t=this;this.toView="",setTimeout(function(){t.toView="top"+t.currentTab},10)},changeTab:function(t){this.currentTab=t},isRequest:function(){var e=this;return new Promise(function(a,s){e.pages[e.currentTab]++,t("log",e.currentTab," at pages\\tarbar\\task\\task.vue:71");var r=e;setTimeout(function(){if(n.hideLoading(),n.showToast({icon:"none",title:"请求数据成功"}),0==e.currentTab){if(void 0===r.tuwenData())return;r.tuwenData()}else if(1==e.currentTab){if(void 0===r.shipinData())return;r.shipinData()}else if(2==e.currentTab){if(void 0===r.lianjieData())return;r.lianjieData()}else if(3==e.currentTab){if(void 0===r.adData())return;r.adData()}a(newData)},1e3)})},swiperTab:function(t){var e=t.detail.current;this.$refs.navTab.longClick(e)},lower1:o.throttle(function(e){var a=this;t("log","加载".concat(this.currentTab)," at pages\\tarbar\\task\\task.vue:116"),n.showLoading({title:"加载中",mask:!0}),this.isRequest().then(function(t){var e=a.list;e[a.currentTab]=e[a.currentTab].concat(t),a.list=e,a.$forceUpdate()})},300),refreshStart:function(t){this.$refs.refresh.refreshStart(t)},refreshMove:function(t){this.$refs.refresh.refreshMove(t)},refreshEnd:function(t){this.$refs.refresh.refreshEnd(t)},isRefresh:function(){var t=this;setTimeout(function(){n.showToast({icon:"success",title:"刷新成功"}),t.$refs.refresh.endAfter()},1e3)},tuwenData:function(){s=this,n.request({url:this.websiteUrl+"/api/comnet/list/1",method:"GET",data:{start:s.start,page:s.page},success:function(t){if(t.data.data.list&&t.data.data.list.length>=0)return s.listArr=t.data.data.list,s.list[0]=s.listArr,s.page+=s.page,s.list[0]}})},shipinData:function(){s=this,n.request({url:this.websiteUrl+"/api/comnet/list/2",method:"GET",data:{start:s.start,page:s.page},success:function(t){if(t.data.data.list&&t.data.data.list.length>=0)return s.listArr=t.data.data.list,s.list[1]=s.listArr,s.page+=s.page,s.list[1],s.page}})},lianjieData:function(){s=this,n.request({url:this.websiteUrl+"/api/comnet/list/3",method:"GET",data:{start:s.start,page:s.page},success:function(t){if(t.data.data.list&&t.data.data.list.length>=0)return s.listArr=t.data.data.list,s.list[2]=s.listArr,s.page+=s.page,s.list[2],s.page}})},adData:function(){s=this,n.request({url:this.websiteUrl+"/api/pic/query?picType=1",method:"GET",success:function(t){return s.listArr=t.data.list,s.list[3]=s.listArr,s.list[3],s.page},fail:function(){},complete:function(){}})},lunboData:function(){s=this,n.request({url:this.websiteUrl+"/api/pic/query?picType=0",method:"GET",success:function(t){s.swiperImg=t.data.list},fail:function(){},complete:function(){}})},toDetail:function(e){t("log",e," at pages\\tarbar\\task\\task.vue:244"),0==this.currentTab?n.navigateTo({url:"detail/detail?esaId="+e}):1==this.currentTab?n.navigateTo({url:"detail/detail?esaId="+e}):2==this.currentTab&&n.navigateTo({url:"detail/detail?esaId="+e})},update:function(){var e,a,s=this,r=plus.os.name.toUpperCase(),i=plus.runtime.appid,o=6048e5,u=0;n.getStorage({key:"version_update_time",success:function(t){u=t.data}}),plus.runtime.getProperty(i,function(i){e=plus.storage.getItem("app-id"),e=e?e.replace(/\./g,""):i.versionCode,n.request({url:s.websiteUrl+"/sys/checkversion",method:"POST",data:{systemName:r,versionCode:e},success:function(e){t("log",e," at pages\\tarbar\\task\\task.vue:293");var i=e.data;if(i.data){t("log",123456," at pages\\tarbar\\task\\task.vue:296");var c=i.data.versionName}var l=new Date;if(l=l.getTime(),null!=i.data){if(t("log",1234567," at pages\\tarbar\\task\\task.vue:304"),u+o>l)return;t("log",1234569," at pages\\tarbar\\task\\task.vue:309"),3!=plus.networkinfo.getCurrentType()?(""!=i.data.versionWgtPath&&n.showModal({title:"发现新版本",content:"有新的版本发布，检测到您当前为非Wifi连接，是否立即进行新版本下载？",showCancel:!0,cancelText:"下次再说",confirmText:"现在更新",success:function(e){if(!e.confirm){var o=new Date;return o=o.getTime(),void n.setStorage({key:"version_update_time",data:o,success:function(){t("log","保存成功"," at pages\\tarbar\\task\\task.vue:393")}})}switch(r){case"ANDROID":var u=n.downloadFile({url:i.data.versionWgtPath,success:function(t){200===t.statusCode?plus.runtime.install(t.tempFilePath,{force:!0},function(){plus.storage.setItem("app-id",c.toString()),plus.nativeUI.toast("更新成功"),plus.runtime.restart()},function(){plus.nativeUI.toast("更新失败")}):plus.nativeUI.toast("下载失败，请检查网络")}});u.onProgressUpdate(function(t){s.progress=t.progress}),clearInterval(a),s.type="",a=setInterval(function(){if(s.type="update_show",s.$store.commit("changeProgress",s.progress),100==progress)return clearInterval(a),void(s.type="")},500);break;case"IOS":n.downloadFile({url:i.data.versionWgtPath,success:function(t){200===t.statusCode?plus.runtime.install(t.tempFilePath,{force:!0},function(){plus.storage.setItem("app-id",c.toString()),plus.nativeUI.toast("更新成功"),plus.runtime.restart()},function(){plus.nativeUI.toast("更新失败")}):plus.nativeUI.toast("下载失败，请检查网络")}});break}},fail:function(){},complete:function(){}}),""!=i.data.path&&n.showModal({title:"发现新版本",content:"有新的版本发布，检测到您当前为非Wifi连接，是否立即进行新版本下载？",showCancel:!0,cancelText:"下次再说",confirmText:"现在更新",success:function(e){if(!e.confirm){var o=new Date;return o=o.getTime(),void n.setStorage({key:"version_update_time",data:o,success:function(){t("log","保存成功"," at pages\\tarbar\\task\\task.vue:459")}})}switch(r){case"ANDROID":var u=n.downloadFile({url:i.data.path,success:function(t){200===t.statusCode?plus.runtime.install(t.tempFilePath,{force:!0},function(){},function(){plus.nativeUI.toast("安装失败")}):plus.nativeUI.toast("下载失败，请检查网络")}});u.onProgressUpdate(function(t){s.progress=t.progress}),clearInterval(a),s.type="",a=setInterval(function(){if(s.type="update_show",s.$store.commit("changeProgress",s.progress),100==progress)return clearInterval(a),void(s.type="")},500);break;case"IOS":plus.runtime.openURL(i.data.path);break}},fail:function(){},complete:function(){}})):(""!=i.data.versionWgtPath&&n.showModal({title:"发现新版本",content:"有新的版本发布，是否立即进行新版本下载？",showCancel:!0,cancelText:"下次再说",confirmText:"现在更新",success:function(e){if(!e.confirm){var o=new Date;return o=o.getTime(),void n.setStorage({key:"version_update_time",data:o,success:function(){t("log","保存成功"," at pages\\tarbar\\task\\task.vue:553")}})}switch(r){case"ANDROID":var u=n.downloadFile({url:i.data.versionWgtPath,success:function(t){200===t.statusCode?plus.runtime.install(t.tempFilePath,{force:!0},function(){plus.storage.setItem("app-id",c.toString()),plus.nativeUI.toast("更新成功"),plus.runtime.restart()},function(){plus.nativeUI.toast("更新失败")}):plus.nativeUI.toast("下载失败，请检查网络")}});u.onProgressUpdate(function(t){s.progress=t.progress}),clearInterval(a),s.type="",a=setInterval(function(){if(s.type="update_show",s.$store.commit("changeProgress",s.progress),100==progress)return clearInterval(a),void(s.type="")},500);break;case"IOS":n.downloadFile({url:i.data.versionWgtPath,success:function(t){200===t.statusCode?plus.runtime.install(t.tempFilePath,{force:!0},function(){plus.storage.setItem("app-id",c.toString()),plus.nativeUI.toast("更新成功"),plus.runtime.restart()},function(){plus.nativeUI.toast("更新失败")}):plus.nativeUI.toast("下载失败，请检查网络")}});break}},fail:function(){},complete:function(){}}),""!=i.data.path&&n.showModal({title:"发现新版本",content:"有新的版本发布，是否立即进行新版本下载？",showCancel:!0,cancelText:"下次再说",confirmText:"现在更新",success:function(e){if(!e.confirm){var o=new Date;return o=o.getTime(),void n.setStorage({key:"version_update_time",data:o,success:function(){t("log","保存成功"," at pages\\tarbar\\task\\task.vue:619")}})}switch(r){case"ANDROID":var u=n.downloadFile({url:i.data.path,success:function(t){200===t.statusCode?plus.runtime.install(t.tempFilePath,{force:!0},function(){},function(){plus.nativeUI.toast("安装失败")}):plus.nativeUI.toast("下载失败，请检查网络")}});u.onProgressUpdate(function(t){s.progress=t.progress}),clearInterval(a),s.type="",a=setInterval(function(){if(s.type="update_show",s.$store.commit("changeProgress",s.progress),100==progress)return clearInterval(a),void(s.type="")},500);break;case"IOS":plus.runtime.openURL(i.data.path);break}},fail:function(){},complete:function(){}}))}},fail:function(){},complete:function(){}})})}},components:{wlpSwiperbBanner:l,refresh:u,navTab:c,FaceContent:p,unimask:i,cmdProgress:r},onLoad:function(){this.tuwenData(),this.shipinData(),this.lianjieData(),this.adData(),this.lunboData()},onShow:function(){this.update()},computed:{pro:function(){return this.progress}}};e.default=f}).call(this,a("0de9")["default"],a("6e42")["default"])},"6bd4":function(t,e,a){"use strict";var n=a("a80f"),s=a.n(n);s.a},"6f98":function(t,e,a){"use strict";a.r(e);var n=a("74ff"),s=a("a067");for(var r in s)"default"!==r&&function(t){a.d(e,t,function(){return s[t]})}(r);a("6bd4");var i,o=a("f0c5"),u=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,"4df3dea0",null,!1,n["a"],i);e["default"]=u.exports},"74ff":function(t,e,a){"use strict";var n={"cmd-progress":()=>a.e("components/cmd-progress/cmd-progress").then(a.bind(null,"3402"))},s=function(){var t=this,e=t.$createElement;t._self._c},r=[];a.d(e,"b",function(){return s}),a.d(e,"c",function(){return r}),a.d(e,"a",function(){return n})},a067:function(t,e,a){"use strict";a.r(e);var n=a("1c77"),s=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);e["default"]=s.a},a10f:function(t,e,a){"use strict";(function(t){a("69e0"),a("921b");n(a("66fd"));var e=n(a("6f98"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("6e42")["createPage"])},a80f:function(t,e,a){}},[["a10f","common/runtime","common/vendor"]]]);